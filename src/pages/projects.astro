---
import Layout from "../layouts/Layout.astro";
import Navbar from "../components/sections/Navbar.astro";
import Footer from "../components/sections/Footer.astro";
import Banner from "../components/ui/Banner.astro";

import { Image } from 'astro:assets';
import projectVial from "../assets/project-vial.webp";


const allProjects = [
  {
    id: "01",
    title: "REPAVIMENTACIÓN RN 11",
    location: "SANTA FE - ARGENTINA",
    client: "VIALIDAD NACIONAL",
    year: "2023",
    description: "Intervención integral de 15km con mezcla asfáltica en caliente de alto desempeño.",
    image: projectVial,
  },
  {
    id: "02",
    title: "PLANTA LOGÍSTICA TIMBÚES",
    location: "PUERTO GENERAL SAN MARTÍN",
    client: "AGROEXPORT S.A.",
    year: "2024",
    description: "Pavimentación de 40.000m² de playas para tránsito pesado y sistema de drenaje industrial.",
    image: projectVial
  },
  {
    id: "03",
    title: "DEFENSA HÍDRICA RIBEREÑA",
    location: "SAN LORENZO",
    client: "MUNICIPALIDAD PGSM",
    year: "2022",
    description: "Ingeniería de contención mediante gaviones y revestimiento de hormigón articulado.",
    image: projectVial
  }
];
---

<Layout title="Proyectos y Obras | Stralla Vial" transition:animate="fade">
    <Navbar />
    <main class="bg-slate-950 text-white">
    <section class="h-[60vh] flex items-center px-6 md:px-12 border-b border-white/10">
      <div class="max-w-7xl mx-auto w-full">
        <span class="text-yellow-500 font-black tracking-[0.3em] text-sm mb-4 block" transition:name="sub">HISTORIAL DE OBRAS</span>
        <h1 class="font-heading text-6xl md:text-8xl font-black leading-[0.8] tracking-tighter" transition:name="main-title">
          PROYECTOS<br/>STRALLA
        </h1>
      </div>
    </section>

    <section class="divide-y divide-white/10">
      {allProjects.map((project) => (
        <div class="group relative overflow-hidden py-24 md:py-40 px-6 md:px-12 hover:bg-white transition-colors duration-500">
          <div class="max-w-7xl mx-auto flex flex-col md:flex-row items-end gap-12 relative z-10">
            
            <div class="w-full md:w-2/3">
              <span class="font-mono text-yellow-500 group-hover:text-slate-900 transition-colors duration-500 text-xl block mb-6">// {project.id}</span>
              <h2 class="font-heading text-4xl md:text-5xl font-black text-white group-hover:text-slate-900 transition-colors duration-500 leading-none">
                {project.title}
              </h2>
            </div>

            <div class="w-full md:w-1/3 space-y-4 opacity-60 group-hover:opacity-100  group-hover:bg-slate-900/80 p-6 rounded-2xl transition-all duration-500 group-hover:text-yellow-500 ">
              <div class="border-b border-white/20 group-hover:border-slate-900/20 pb-2 ">
                <p class="text-[10px] font-bold uppercase tracking-widest">Ubicación</p>
                <p class="font-body italic">{project.location}</p>
              </div>
              <div class="border-b border-white/20 group-hover:border-slate-900/20 pb-2">
                <p class="text-[10px] font-bold uppercase tracking-widest">Cliente</p>
                <p class="font-body italic">{project.client}</p>
              </div>
              <p class="text-sm font-body leading-relaxed pt-4">
                {project.description}
              </p>
            </div>
          </div>

          <div class="hidden lg:block absolute right-[10%] top-1/2 -translate-y-1/2 w-[500px] h-[500px] opacity-0 group-hover:opacity-100 translate-x-10 group-hover:translate-x-0 transition-all duration-700 pointer-events-none z-0">
             <Image src={project.image} alt={project.title} class="w-full h-full object-cover grayscale group-hover:grayscale-0 rounded-2xl shadow-2xl transition-all" loading="eager" fetchpriority="high" />
          </div>

          <div class="mt-12 lg:hidden rounded-2xl overflow-hidden h-64">
             <Image src={project.image} alt={project.title} class="w-full h-full object-cover" loading="eager" fetchpriority="high" />
          </div>
        </div>
      ))}
    </section>

    <Banner />
  </main>
    <Footer />
</Layout>